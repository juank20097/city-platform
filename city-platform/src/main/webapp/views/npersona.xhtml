<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">


<ui:composition template="template.xhtml">
	<ui:define name="titulo">
            Personas
        </ui:define>
	<ui:define name="contenido">
		<br />
		<h:form id="frm">
			<b:growl delay="4000" placementFrom="top" show-detail="false"
        		global-only="false" show-summary="true" allow-dismiss="true"
        		animation-enter="animated bounceInDown" animation-exit="animated flipOutX" escape="true" />
			<b:panel title="Registro de Datos Persona" collapsible="false"
				look="primary">
				<b:tabView activeIndex="0"
					contentStyle="border: 1px solid #ddd;padding:10px">
					<b:tab title="Generales">
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Tipo de Identificación:*" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.perTipoDni}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_tipo_dni}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="N° Identificación:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perDni}">
								</b:inputText>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Nombres:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perNombres}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Apellidos:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perApellidos}" >
								</b:inputText>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Fecha de Nacimiento:*" />
							</b:column>
							<b:column span="4">
								<b:datepicker mode="popup-icon" lang="es"  changeMonth="true" changeYear="true" value="#{personaBean.perFechaNacimiento}"/>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Genero:*" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.perGenero}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_genero}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Teléfono:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perTelefono}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Celular:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perCelular}">
								</b:inputText>
							</b:column>
						</b:row>
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Correo:*" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.perCorreo}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Estado Civil:*" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.perEstadoCivil}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_estado_civil}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel rendered="#{personaBean.edicion}" value="Estado:" />
							</b:column>
							<b:column span="10">
								<b:selectOneMenu rendered="#{personaBean.edicion}"
									styleClass="mar" value="#{personaBean.perEstado}">
									<f:selectItem itemValue="-1" itemLabel="--Seleccione--" />
									<f:selectItems value="#{personaBean.l_estados}">
									</f:selectItems>
								</b:selectOneMenu>
							</b:column>
						</b:row>
						<b:commandButton value="Guardar"
						 onclick="PF('statusDialog').show()" oncomplete="PF('statusDialog').hide()"	action="#{personaBean.crearPersona}" update="frm" look="info"></b:commandButton>&nbsp;&nbsp;&nbsp;
				<b:commandButton value="Cancelar" action="#{personaBean.cancelar}" onclick="PF('statusDialog').show()" oncomplete="PF('statusDialog').hide()"
							immediate="true" update="frm" look="info"></b:commandButton>&nbsp;&nbsp;&nbsp;
							 <b:label text="Recuerda que el guardar tambien almacenara los datos de la pestaña detalles" severity="success"/>
					</b:tab>
					<b:tab title="Detalles">
						<h4>Datos de Ubicación</h4>
						<p:separator />
						<b:row>
							<b:column offset="1" span="2">
								<h4>Nacimiento:</h4>
							</b:column>
							<b:column offset="4" span="2">
								<h4>Residencia:</h4>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Pais:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.pdePaisNacimiento}">
									<p:ajax listener="#{personaBean.habilitarCamposNac}" update=":frm:p1 :frm:c1"></p:ajax>
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_pais}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Pais:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.pdePaisResidencia}">
									<p:ajax listener="#{personaBean.habilitarCamposRer}" update=":frm:p2 :frm:c2"></p:ajax>
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_pais}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Provincia:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu id="p1" disabled="#{personaBean.select_n}" styleClass="form-control"
									value="#{personaBean.pdeProvinciaNacimiento}">
									<p:ajax listener="#{personaBean.mostrarCiudadNac(personaBean.pdeProvinciaNacimiento)}" update=":frm:c1"></p:ajax>
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_provincia}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Provincia:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu id="p2" disabled="#{personaBean.select_r}" styleClass="form-control"
									value="#{personaBean.pdeProvinciaResidencia}">
									<p:ajax listener="#{personaBean.mostrarCiudadRes(personaBean.pdeProvinciaResidencia)}" update=":frm:c2"></p:ajax>
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_provincia}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Ciudad:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu id="c1" disabled="#{personaBean.select_n}" styleClass="form-control"
									value="#{personaBean.pdeCiudadNacimiento}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_ciudad}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Ciudad:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu id="c2" disabled="#{personaBean.select_r}" styleClass="form-control"
									value="#{personaBean.pdeCiudadResidencia}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_ciudad}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<br />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Lugar:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeLugarNacimiento}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Dirección:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeDireccion}">
								</b:inputText>
							</b:column>
						</b:row>
						<br />
						<h4>Datos Familiares</h4>
						<p:separator />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Nombre Padre:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeNombrePadre}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Nombre Madre:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeNombreMadre}">
								</b:inputText>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Nacionalidad Padre:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.pdeNacionalidadPadre}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_pais}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Nacionalidad Madre:" />
							</b:column>
							<b:column span="4">
								<h:selectOneMenu styleClass="form-control"
									value="#{personaBean.pdeNacionalidadMadre}">
									<f:selectItem itemLabel="--Seleccione--" itemValue="-1"></f:selectItem>
									<f:selectItems value="#{personaBean.l_pais}">
									</f:selectItems>
								</h:selectOneMenu>
							</b:column>
						</b:row>
						<br/>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Nombre Conyuge:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeConyuge}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Fecha Matrimonio:" />
							</b:column>
							<b:column span="4">
								<b:datepicker mode="popup-icon" lang="es"  changeMonth="true" changeYear="true" value="#{personaBean.pdeFechaMatrimonio}"/>
							</b:column>
						</b:row>
						<br/>
						<h4>Datos de Emergencia</h4>
						<p:separator />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Nombre Contacto Emergencia:" />
							</b:column>
							<b:column span="10">
								<b:inputText value="#{personaBean.pdeEmergContactoNombres}">
								</b:inputText>
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Id Contacto Emergencia:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeEmergContactoId}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Teléfono Contacto Emergencia:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeEmergContactoTelefono}">
								</b:inputText>
							</b:column>
						</b:row>
						<br/>
						<h4>Datos de Defunción </h4>
						<p:separator />
						<b:row>
							<b:column span="2">
								<h:outputLabel value="Inscripción Defunción:" />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{personaBean.pdeInscripcionDefuncion}">
								</b:inputText>
							</b:column>
							<b:column span="2">
								<h:outputLabel value="Fecha Defunción:" />
							</b:column>
							<b:column span="4">
								<b:datepicker mode="popup-icon" lang="es"  changeMonth="true" changeYear="true" value="#{personaBean.pdeFechaDefuncion}"/>
							</b:column>
						</b:row>
						<br/>	
						<h4>Observación</h4>
						<p:separator />
						<b:row>
							<b:column span="12">
								<b:inputTextarea placeholder="Escribe observaciones de la persona en caso de tenerla....." value="#{personaBean.pdeObservacion}">
								</b:inputTextarea>
							</b:column>
						</b:row>
					</b:tab>
				</b:tabView>
			</b:panel>
		</h:form>
		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<p:graphicImage value="../resources/img/cargando.gif" />
		</p:dialog>
	</ui:define>
</ui:composition>
</html>
